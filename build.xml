<?xml version="1.0" encoding="UTF-8"?>
<project default="jar" xmlns:ivy="antlib:org.apache.ivy.ant">

	<target name="libs">
		<ivy:configure />
		<ivy:resolve />
		<ivy:retrieve type="jar" sync="true"/>
	</target>

	<target name="jar" depends="libs">
		<jar destfile="dist/logsearch.jar">
			<manifest>
				<attribute name="Main-Class" value="ls.LogSearchJFrame" />
			</manifest>
			<fileset dir="bin" />
			<zipfileset src="lib/commons-compress-1.9.jar" />
			<zipfileset src="lib/commons-io-1.3.2.jar" />
			<zipfileset src="lib/commons-lang3-3.3.2.jar" />
			<zipfileset src="lib/xz-1.5.jar" />
		</jar>
	</target>

	<target name="deploy" depends="jar">
		<copy file="dist/logsearch.jar" tofile="${user.home}/Dropbox/Public/logsearch.jar" />
	</target>

</project>
